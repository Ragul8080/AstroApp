@model AstroApp.Models.ClientModel

<input type="hidden" id="stateUrl" value="@Url.Action("GetStates", "ClientsApi")" />
<input type="hidden" id="zodiacUrl" value="@Url.Action("GetZodiacSign", "ClientsApi")" />
<input type="hidden" id="starUrl" value="@Url.Action("GetStar", "ClientsApi")" />
<input type="hidden" id="createUrl" value="@Url.Action("Create", "ClientsApi")" />
<input type="hidden" id="genderUrl" value="@Url.Action("GetGender", "ClientsApi")" />
@* <input type="hidden" id="updateUrl" value="@Url.Action("Update", "ClientsApi")" /> *@
@* <input type="hidden" id="editUrl" value="@Url.Action("EditUser", "Client")" /> *@

<input type="hidden" id="clientId" value="@Model.ClientId" />

<input type="hidden" id="selectedState" value="@Model.State" />
<input type="hidden" id="selectedZodiac" value="@Model.ZodiacSignId" />
<input type="hidden" id="selectedStar" value="@Model.StarId" />
<input type="hidden" id="selectedGender" value="@Model.Gender" />

@{
    string pageTitle = Model.Mode == "Edit" ? "Edit Client" : "Create Client";
    string buttonText = Model.Mode == "Edit" ? "Update" : "Create";
    string buttonClass = Model.Mode == "Edit" ? "btn btn-warning" : "btn btn-primary";
}

<div class="container mt-4">
    <div class="row">
        <div class="col-12">
            <h1 class="page-title">@pageTitle</h1>
        </div>
    </div>

    <form id="clientForm">
        @Html.AntiForgeryToken()
        <!-- Name Section -->
        <div class="row mb-3">
            <div class="col-md-6">
                <label for="fieldForinputFirstName" class="form-label">First Name</label>
                <input type="text" class="form-control" id="inputFirstName" placeholder="Enter first name" value="@Model.FirstName">
            </div>
            <div class="col-md-6">
                <label for="fieldForinputLastName" class="form-label">Last Name</label>
                <input type="text" class="form-control" id="inputLastName" placeholder="Enter last name" value="@Model.LastName">
            </div>
        </div>

        <!-- Zodiac & Star -->
        <div class="row mb-3">
            <div class="col-md-6">
                <label for="fieldForinputZodiac" class="form-label">Zodiac Sign</label>
                <select id="inputZodiac" class="form-select w-100"></select>
            </div>
            <div class="col-md-6">
                <label for="fieldForinputStar" class="form-label">Star</label>
                <select id="inputStar" class="form-select w-100"></select>
            </div>
        </div>

        <!-- DOB, Time, Gender -->
        <div class="row mb-3">
            <div class="col-md-6">
                <label for="fieldForinputDOB" class="form-label">Date of Birth</label>
                <input type="date" class="form-control" id="inputDOB" value="@(Model.DateOfBirth?.ToString("yyyy-MM-dd"))">
            </div>
            <div class="col-md-4">
                <label for="fieldForinputDOT" class="form-label">Birth Time</label>
                <input type="time" class="form-control" id="inputDOT"
                       value="@(Model.BirthTime)">

            </div>
            <div class="col-md-2">
                <label for="fieldForinputGender" class="form-label">Gender</label>
                <select id="inputGender" class="form-select w-100"></select>
            </div>
        </div>

        <!-- Contact -->
        <div class="row mb-3">
            <div class="col-md-6">
                <label for="fieldForinputEmail" class="form-label">Email</label>
                <input type="email" class="form-control" id="inputEmail" placeholder="xxxx@gmail.com" value="@Model.Email">
            </div>
            <div class="col-md-6">
                <label for="fieldForinputPhone" class="form-label">Phone Number</label>
                <input type="text" class="form-control" id="inputPhone" placeholder="Enter phone number" value="@Model.Phone">
            </div>
        </div>

        <!-- Address -->
        <div class="mb-3">
            <label for="fieldForinputAddress" class="form-label">Address Line 1</label>
            <input type="text" class="form-control" id="inputAddress" placeholder="1234 Main St" value="@Model.AddressLine1">
        </div>

        <div class="mb-3">
            <label for="fieldForinputAddress2" class="form-label">Address Line 2</label>
            <input type="text" class="form-control" id="inputAddress2" placeholder="Apartment, studio, or floor" value="@Model.AddressLine2">
        </div>

        <div class="row mb-3">
            <div class="col-md-6">
                <label for="fieldForinputCity" class="form-label">City</label>
                <input type="text" class="form-control" id="inputCity" value="@Model.City">
            </div>
            <div class="col-md-3">
                <label for="fieldForinputState" class="form-label">State</label>
                <select id="inputState" class="form-select w-100"></select>
            </div>
            <div class="col-md-3">
                <label for="fieldForinputZip" class="form-label">Zip</label>
                <input type="text" id="inputZip" class="form-control" value="@Model.ZipCode">
            </div>
        </div>

        <!-- Note -->
        <div class="mb-3">
            <label for="fieldForinputNote" class="form-label">Note</label>
            <textarea class="form-control" id="inputNote" rows="4" placeholder="Enter your notes here...">@Model.Note</textarea>
        </div>

        <!-- Buttons -->
        <div class="d-flex justify-content-end mt-3">
            <button type="button" class="btn btn-secondary me-2" onclick="history.back()">Cancel</button>
                    @if (Model.Mode == "Edit")
                    {
                    <button type="submit" id="btnUpdate" class="btn btn-warning">Update</button>
                    }
                    else
                    {
                    <button type="submit" id="btnCreate" class="btn btn-primary">Create</button>
                    }
        </div>
    </form>
</div>


@section Styles {
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
}

@section Scripts {
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script src="~/js/Client/Create.js"></script>
}
