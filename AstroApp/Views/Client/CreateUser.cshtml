@model AstroApp.Models.ClientModel

<input type="hidden" id="stateUrl" value="@Url.Action("GetStates", "ClientsApi")" />
<input type="hidden" id="zodiacUrl" value="@Url.Action("GetZodiacSign", "ClientsApi")" />
<input type="hidden" id="starUrl" value="@Url.Action("GetStar", "ClientsApi")" />
<input type="hidden" id="createUrl" value="@Url.Action("Create", "ClientsApi")" />
<input type="hidden" id="updateUrl" value="@Url.Action("Update", "ClientsApi")" />
<input type="hidden" id="editUrl" value="@Url.Action("EditUser", "Client")" />

<input type="hidden" id="clientId" value="@Model.ClientId" />

@{
    string pageTitle = Model.Mode == "Edit" ? "Edit Client" : "Create Client";
    string buttonText = Model.Mode == "Edit" ? "Update Client" : "Create Client";
    string buttonClass = Model.Mode == "Edit" ? "btn btn-warning" : "btn btn-primary";
}

<div class="container mt-4">
    <div class="row">
        <div class="col-12">
            <h1 class="page-title">@pageTitle</h1>
        </div>
    </div>

    <form id="clientForm">
        <!-- Name Section -->
        <div class="row mb-3">
            <div class="col-md-6">
                <label for="inputFirstName" class="form-label">First Name</label>
                <input type="text" class="form-control" id="inputFirstName" placeholder="Enter first name" value="@Model.FirstName">
            </div>
            <div class="col-md-6">
                <label for="inputLastName" class="form-label">Last Name</label>
                <input type="text" class="form-control" id="inputLastName" placeholder="Enter last name" value="@Model.LastName">
            </div>
        </div>

        <!-- Zodiac & Star -->
        <div class="row mb-3">
            <div class="col-md-6">
                <label for="inputZodiac" class="form-label">Zodiac Sign</label>
                <select id="inputZodiac" class="form-select w-100"></select>
            </div>
            <div class="col-md-6">
                <label for="inputStar" class="form-label">Star</label>
                <select id="inputStar" class="form-select w-100"></select>
            </div>
        </div>

        <!-- DOB, Time, Gender -->
        <div class="row mb-3">
            <div class="col-md-6">
                <label for="inputDOB" class="form-label">Date of Birth</label>
                <input type="date" class="form-control" id="inputDOB" value="@(Model.DateOfBirth?.ToString("yyyy-MM-dd"))">
            </div>
            <div class="col-md-4">
                <label for="inputDOT" class="form-label">Birth Time</label>
                <input type="time" class="form-control" id="inputDOB"
                       value="@(Model.BirthTime ?? "")">

            </div>
            <div class="col-md-2">
                <label for="inputGender" class="form-label">Gender</label>
                <select class="form-select" id="inputGender">
                    <option value="" selected="@(string.IsNullOrEmpty(Model.Gender) ? "selected" : null)">Select Gender</option>
                    <option value="Male" selected="@(Model.Gender == "Male" ? "selected" : null)">Male</option>
                    <option value="Female" selected="@(Model.Gender == "Female" ? "selected" : null)">Female</option>
                    <option value="Others" selected="@(Model.Gender == "Others" ? "selected" : null)">Others</option>
                </select>
            </div>
        </div>

        <!-- Contact -->
        <div class="row mb-3">
            <div class="col-md-6">
                <label for="inputEmail" class="form-label">Email</label>
                <input type="email" class="form-control" id="inputEmail" placeholder="xxxx@gmail.com" value="@Model.Email">
            </div>
            <div class="col-md-6">
                <label for="inputPhone" class="form-label">Phone Number</label>
                <input type="text" class="form-control" id="inputPhone" placeholder="Enter phone number" value="@Model.Phone">
            </div>
        </div>

        <!-- Address -->
        <div class="mb-3">
            <label for="inputAddress" class="form-label">Address Line 1</label>
            <input type="text" class="form-control" id="inputAddress" placeholder="1234 Main St" value="@Model.AddressLine1">
        </div>

        <div class="mb-3">
            <label for="inputAddress2" class="form-label">Address Line 2</label>
            <input type="text" class="form-control" id="inputAddress2" placeholder="Apartment, studio, or floor" value="@Model.AddressLine2">
        </div>

        <div class="row mb-3">
            <div class="col-md-6">
                <label for="inputCity" class="form-label">City</label>
                <input type="text" class="form-control" id="inputCity" value="@Model.City">
            </div>
            <div class="col-md-3">
                <label for="inputState" class="form-label">State</label>
                <select id="inputState" class="form-select w-100"></select>
            </div>
            <div class="col-md-3">
                <label for="inputZip" class="form-label">Zip</label>
                <input type="text" id="inputZip" class="form-control" value="@Model.ZipCode">
            </div>
        </div>

        <!-- Note -->
        <div class="mb-3">
            <label for="inputNote" class="form-label">Note</label>
            <textarea class="form-control" id="inputNote" rows="4" placeholder="Enter your notes here...">@Model.Note</textarea>
        </div>

        <!-- Buttons -->
        <div class="d-flex justify-content-end mt-3">
            <button type="button" class="btn btn-secondary me-2" onclick="history.back()">Cancel</button>
            <button type="submit" class="@buttonClass">@buttonText</button>
        </div>
    </form>
</div>


@section Styles {
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
}

@section Scripts {
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script src="~/js/Client/create.js"></script>
}
